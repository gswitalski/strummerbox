# Product Requirements Document (PRD) - StrummerBox

## 1. Product Overview
StrummerBox to aplikacja internetowa zaprojektowana dla gitarzystów-amatorów i organizatorów spotkań towarzyskich. Jej głównym celem jest zastąpienie niewygodnych, papierowych śpiewników prostym i elastycznym narzędziem cyfrowym. Aplikacja umożliwia tworzenie prywatnej biblioteki piosenek z akordami, układanie z nich repertuarów na konkretne okazje oraz błyskawiczne udostępnianie ich uczestnikom wydarzenia za pomocą kodów QR i linków. StrummerBox oferuje dwa główne interfejsy: rozbudowany tryb zarządzania dla przygotowującego (organizatora) oraz uproszczony, czytelny widok z tekstami dla śpiewających (biesiadników), zoptymalizowany pod kątem urządzeń mobilnych.

## 2. User Problem
Podczas spotkań towarzyskich, takich jak ogniska czy domówki, gitarzyści często borykają się z problemem logistycznym udostępniania tekstów piosenek wszystkim uczestnikom. Drukowanie śpiewników jest niepraktyczne, nieekologiczne i mało elastyczne – repertuar jest sztywny, a kartki łatwo pomylić lub zniszczyć. Brakuje centralnego miejsca, w którym organizator mógłby z wyprzedzeniem przygotować setlistę, a następnie w trakcie imprezy natychmiastowo i bezproblemowo udostępnić ją reszcie grupy, zachowując dla siebie wersję z akordami.

## 3. Functional Requirements

### 3.1. Użytkownicy i Dostęp
-   FR-001: Aplikacja rozróżnia dwa typy użytkowników: 'Organizator' (zarejestrowany i zalogowany) oraz 'Biesiadnik' (użytkownik anonimowy, niezalogowany).
-   FR-002: Rejestracja i logowanie dla Organizatora odbywa się za pomocą adresu e-mail i hasła.
-   FR-003: Dostęp do funkcji zarządzania (tworzenie, edycja, usuwanie treści) jest ograniczony wyłącznie do zalogowanych Organizatorów.

### 3.2. Tryby Pracy Aplikacji
-   FR-004: Tryb 'Zarządzanie': Dostępny dla Organizatora po zalogowaniu, zoptymalizowany dla komputerów stacjonarnych, ale responsywny. Umożliwia pełne zarządzanie piosenkami i repertuarami.
-   FR-005: Tryb 'Biesiada': Uproszczony widok przeznaczony do użytku podczas wydarzenia, zoptymalizowany dla urządzeń mobilnych. Dostępny zarówno dla Organizatora (z akordami), jak i Biesiadników (sam tekst).

### 3.3. Zarządzanie Piosenkami (CRUD)
-   FR-006: Organizator może dodawać, przeglądać, edytować i usuwać piosenki w swojej prywatnej bibliotece.
-   FR-007: Nazwy piosenek muszą być unikalne w obrębie konta jednego Organizatora.
-   FR-008: Edytor piosenek wspiera format ChordPro, gdzie akordy umieszczane są w nawiasach kwadratowych `[ ]`.
-   FR-009: Edytor piosenek posiada interfejs "side-by-side" z podglądem na żywo renderowanego tekstu z akordami.
-   FR-010: Edytor posiada walidację sprawdzającą, czy wszystkie nawiasy kwadratowe są poprawnie zamknięte.

### 3.4. Zarządzanie Repertuarami (CRUD)
-   FR-011: Organizator może tworzyć, przeglądać, edytować i usuwać repertuary.
-   FR-012: Nazwy repertuarów muszą być unikalne w obrębie konta jednego Organizatora.
-   FR-013: Tworzenie repertuaru polega na wyborze piosenek z istniejącej biblioteki Organizatora.
-   FR-014: Organizator może zmieniać kolejność piosenek w repertuarze za pomocą przycisków "w górę / w dół".

### 3.5. Udostępnianie i Widok Publiczny
-   FR-015: Dla każdej piosenki i każdego repertuaru generowany jest stały, publiczny link oraz odpowiadający mu kod QR.
-   FR-016: Dostęp do linku publicznego nie wymaga logowania.
-   FR-017: Strony publiczne nie są indeksowane przez wyszukiwarki (za pomocą odpowiednich metatagów).
-   FR-018: Biesiadnik, otwierając link do repertuaru, widzi listę piosenek.
-   FR-019: Biesiadnik, otwierając link do piosenki, widzi wyłącznie jej tekst, bez akordów, wyświetlony dużą, czytelną czcionką.
-   FR-020: Biesiadnik w widoku piosenki (w ramach repertuaru) ma możliwość nawigacji do następnego i poprzedniego utworu.

### 3.6. Interfejs i Doświadczenie Użytkownika (UX)
-   FR-021: Organizator w trybie 'Biesiada' widzi piosenki z akordami i ma możliwość wyświetlenia dużego kodu QR w celu udostępnienia.
-   FR-022: Akcje destrukcyjne (usuwanie piosenki, usuwanie repertuaru) wymagają dodatkowego potwierdzenia od użytkownika.
-   FR-023: Aplikacja wyświetla przyjazne komunikaty "pustych stanów" (np. gdy nie ma jeszcze żadnych piosenek).
-   FR-024: Próba dostępu do usuniętej treści przekierowuje na dedykowaną stronę błędu.

## 4. Product Boundaries

### 4.1. Wymagania wchodzące w zakres MVP
-   Pełna funkcjonalność rejestracji i logowania dla Organizatorów.
-   Kompletne operacje CRUD dla piosenek i repertuarów.
-   Implementacja edytora ChordPro z podglądem na żywo.
-   Generowanie i obsługa stałych linków publicznych i kodów QR.
-   Dwa oddzielne tryby pracy: 'Zarządzanie' i 'Biesiada'.
-   Widoki zoptymalizowane dla urządzeń mobilnych dla Biesiadników.
-   Mechanizm odzyskiwania dostępu do konta.

### 4.2. Wymagania niewchodzące w zakres MVP
-   Transpozycja akordów: Funkcja zmiany tonacji piosenki.
-   Skanowanie i OCR: Możliwość dodawania piosenek poprzez skanowanie fizycznych śpiewników.
-   Odnośniki do materiałów referencyjnych: Możliwość dodawania linków (np. do nagrań na YouTube) do piosenek.
-   Biblioteka publiczna: Brak możliwości przeglądania piosenek innych użytkowników.

## 5. User Stories

### 5.1. Uwierzytelnianie i Zarządzanie Kontem
-   ID: US-001
-   Title: Rejestracja nowego Organizatora
-   Description: Jako nowy użytkownik, chcę móc założyć konto w aplikacji przy użyciu mojego adresu e-mail i hasła, aby uzyskać dostęp do funkcji zarządzania piosenkami i repertuarami.
-   Acceptance Criteria:
    -   Formularz logownanie jest rozszerzony o przycisk "Zarejestruj" sie, który prrzekierowuje użytkownika do formularza rejestracji
    -   Formularz rejestracji zawiera pola na adres e-mail, nick i hasło.
    -   System waliduje, czy podany e-mail jest w poprawnym formacie.
    -   System sprawdza, czy e-mail nie jest już zarejestrowany.
    -   Po pomyślnej rejestracji jestem automatycznie zalogowany i przekierowany do panelu zarządzania.

-   ID: US-002
-   Title: Logowanie Organizatora
-   Description: Jako zarejestrowany Organizator, chcę móc zalogować się na moje konto, aby uzyskać dostęp do moich piosenek i repertuarów.
-   Acceptance Criteria:
    -   Formularz logowania zawiera pola na adres e-mail i hasło.
    -   Po podaniu poprawnych danych jestem zalogowany i przekierowany do panelu zarządzania.
    -   W przypadku podania błędnych danych, wyświetlany jest stosowny komunikat.

-   ID: US-003
-   Title: Dostęp do chronionych zasobów
-   Description: Jako użytkownik, chcę mieć pewność, że tylko zalogowani Organizatorzy mogą uzyskać dostęp do panelu zarządzania.
-   Acceptance Criteria:
    -   Próba wejścia na adres URL panelu zarządzania przez niezalogowanego użytkownika skutkuje przekierowaniem na stronę logowania.
    -   Tylko zalogowany użytkownik może wykonywać operacje tworzenia, edycji i usuwania.

-   ID: US-020
-   Title: Odzyskiwanie dostępu do konta
-   Description: Jako zarejestrowany Organizator, który zapomniał hasła, chcę móc zainicjować proces jego resetowania, aby odzyskać dostęp do mojego konta.
-   Acceptance Criteria:
    -   Na stronie logowania znajduje się link "Nie pamiętasz hasła?".
    -   Po kliknięciu linku przechodzę do formularza, gdzie mogę wpisać swój adres e-mail.
    -   Po podaniu poprawnego i istniejącego w systemie adresu e-mail, otrzymuję na niego wiadomość z unikalnym linkiem do zresetowania hasła.
    -   Link przenosi mnie na stronę, gdzie mogę ustawić nowe hasło.
    -   Po pomyślnej zmianie hasła mogę zalogować się przy użyciu nowych danych.

### 5.2. Zarządzanie Piosenkami
-   ID: US-004
-   Title: Tworzenie nowej piosenki
-   Description: Jako Organizator, chcę móc dodać nową piosenkę do mojej bazy, wpisując jej tytuł oraz tekst z akordami w formacie ChordPro.
-   Acceptance Criteria:
    -   Formularz dodawania piosenki zawiera pole na tytuł i edytor tekstu.
    -   Edytor wyświetla podgląd piosenki w czasie rzeczywistym.
    -   System nie pozwala na zapisanie piosenki bez tytułu.
    -   System nie pozwala na zapisanie piosenki o tytule, który już istnieje w mojej bazie.
    -   Po zapisaniu, nowa piosenka jest widoczna na liście moich piosenek.

-   ID: US-005
-   Title: Przeglądanie listy piosenek
-   Description: Jako Organizator, chcę widzieć listę wszystkich moich piosenek, aby móc nimi zarządzać.
-   Acceptance Criteria:
    -   W panelu zarządzania znajduje się sekcja z listą wszystkich dodanych przeze mnie piosenek.
    -   Dla każdej piosenki na liście widoczne są opcje edycji i usunięcia.
    -   Jeśli nie dodałem żadnej piosenki, widzę komunikat "pustego stanu" z zachętą do działania.

-   ID: US-006
-   Title: Edycja istniejącej piosenki
-   Description: Jako Organizator, chcę móc edytować tytuł i treść wcześniej dodanej piosenki.
-   Acceptance Criteria:
    -   Po kliknięciu opcji "edytuj" przy piosence, przechodzę do formularza edycji.
    -   Formularz jest wypełniony aktualnymi danymi piosenki.
    -   Mogę zmienić tytuł i treść, a następnie zapisać zmiany.
    -   Zaktualizowana piosenka jest widoczna na liście.

-   ID: US-007
-   Title: Usuwanie piosenki
-   Description: Jako Organizator, chcę móc usunąć piosenkę z mojej bazy.
-   Acceptance Criteria:
    -   Po kliknięciu opcji "usuń", system prosi o potwierdzenie tej akcji.
    -   Jeśli piosenka jest częścią jakiegokolwiek repertuaru, komunikat potwierdzający zawiera dodatkowe ostrzeżenie.
    -   Po potwierdzeniu, piosenka znika z mojej listy piosenek i ze wszystkich repertuarów, w których była.

### 5.3. Zarządzanie Repertuarami
-   ID: US-008
-   Title: Tworzenie nowego repertuaru
-   Description: Jako Organizator, chcę móc stworzyć nowy repertuar, nadając mu nazwę opis.
-   Acceptance Criteria:
    -   Formularz tworzenia repertuaru w oknie modalnym pozwala na wpisanie unikalnej nazwy  oraz opisu.
    -   Po zapisaniu okienko dialogowe jest zamykane i aplikacja przechodzi do trybu edycji repertuaru.

-   ID: US-009
-   Title: Przeglądanie listy repertuarów
-   Description: Jako Organizator, chcę widzieć listę wszystkich moich repertuarów.
-   Acceptance Criteria:
    -   W panelu zarządzania widzę listę wszystkich stworzonych przeze mnie repertuarów.
    -   Dla każdego repertuaru widoczne są opcje edycji, usunięcia i udostępnienia.
    -   Jeśli nie mam żadnych repertuarów, widzę komunikat "pustego stanu".

-   ID: US-010
-   Title: Edycja repertuaru
-   Description: Jako Organizator, chcę móc edytować istniejący repertuar, zmieniając jego nazwę, dodając lub usuwając piosenki oraz zmieniając ich kolejność.
-   Acceptance Criteria:
    -   Mogę zmienić nazwę repertuaru.
    -   Mogę dodawać nowe piosenki z mojej biblioteki.
    -   Mogę usuwać piosenki z repertuaru (bez usuwania ich z głównej biblioteki).
    -   Mogę przesuwać piosenki w górę i w dół na liście za pomocą dedykowanych przycisków.

-   ID: US-011
-   Title: Usuwanie repertuaru
-   Description: Jako Organizator, chcę móc trwale usunąć cały repertuar.
-   Acceptance Criteria:
    -   Po kliknięciu "usuń" przy repertuarze, system prosi o potwierdzenie.
    -   Po potwierdzeniu, repertuar znika z listy.
    -   Usunięcie repertuaru nie usuwa piosenek wchodzących w jego skład z głównej biblioteki.

### 5.4. Udostępnianie i Tryb Biesiada
-   ID: US-012
-   Title: Generowanie linku i kodu QR
-   Description: Jako Organizator, chcę móc wygenerować stały link publiczny i kod QR dla każdej mojej piosenki i każdego repertuaru.
-   Acceptance Criteria:
    -   W widoku listy piosenek oraz listy repertuarów (w trybie zarządzania) znajduje się przycisk "Udostępnij".
    -   Po kliknięciu wyświetla się link publiczny oraz kod QR.
    -   Mogę łatwo skopiować link do schowka.

-   ID: US-013
-   Title: Dostęp Biesiadnika do piosenki
-   Description: Jako Biesiadnik, po zeskanowaniu kodu QR lub otwarciu linku do piosenki, chcę zobaczyć jej tekst na moim telefonie.
-   Acceptance Criteria:
    -   Strona wyświetla tylko tekst piosenki, bez akordów.
    -   Czcionka jest duża i czytelna, a tekst dopasowany do szerokości ekranu mobilnego.
    -   Strona nie zawiera żadnych elementów nawigacyjnych poza tekstem piosenki.

-   ID: US-014
-   Title: Dostęp Biesiadnika do repertuaru
-   Description: Jako Biesiadnik, po zeskanowaniu kodu QR lub otwarciu linku do repertuaru, chcę zobaczyć listę piosenek w tym repertuarze.
-   Acceptance Criteria:
    -   Wyświetla się strona z tytułem repertuaru i listą piosenek w ustalonej kolejności.
    -   Kliknięcie na tytuł piosenki przenosi mnie do jej widoku (zgodnie z US-013).

-   ID: US-015
-   Title: Nawigacja Biesiadnika w repertuarze
-   Description: Jako Biesiadnik, przeglądając piosenkę w ramach repertuaru, chcę móc łatwo przejść do następnej lub poprzedniej piosenki.
-   Acceptance Criteria:
    -   W widoku piosenki dostępne są przyciski "Następna" i "Poprzednia".
    -   Przycisk "Poprzednia" jest nieaktywny dla pierwszej piosenki na liście.
    -   Przycisk "Następna" jest nieaktywny dla ostatniej piosenki na liście.
    -   Kliknięcie przenosi do widoku odpowiedniej piosenki bez powrotu do listy.

-   ID: US-016
-   Title: Tryb 'Biesiada' dla Organizatora
-   Description: Jako Organizator, chcę mieć dostęp do specjalnego trybu 'Biesiada' na moim telefonie, abym mógł prowadzić śpiewanie, widząc akordy.
-   Acceptance Criteria:
    -   Po zalogowaniu mogę przełączyć się na tryb 'Biesiada'.
    -   W tym trybie widzę listę moich repertuarów.
    -   Po wybraniu repertuaru i piosenki, widzę jej tekst wraz z akordami.
    -   Interfejs jest uproszczony i zoptymalizowany pod kątem odczytu, bez funkcji edycyjnych.

-   ID: US-017
-   Title: Wyświetlanie kodu QR przez Organizatora w trybie 'Biesiada'
-   Description: Jako Organizator w trybie 'Biesiada', chcę móc szybko wyświetlić duży kod QR dla aktualnego repertuaru, aby Biesiadnicy mogli go zeskanować.
-   Acceptance Criteria:
    -   W widoku repertuaru/piosenki w trybie 'Biesiada' jest przycisk "Pokaż kod QR".
    -   Po kliknięciu, na ekranie pojawia się duży, czytelny kod QR na białym tle, który łatwo zeskanować z odległości.

### 5.5. Przypadki Brzegowe
-   ID: US-018
-   Title: Dostęp do usuniętej treści
-   Description: Jako Biesiadnik, próbując otworzyć link do piosenki lub repertuaru, który został usunięty przez Organizatora, chcę zobaczyć informację o tym, że treść jest niedostępna.
-   Acceptance Criteria:
    -   Zamiast standardowego błędu 404, wyświetlana jest dedykowana strona z komunikatem, np. "Ten materiał nie jest już dostępny".

-   ID: US-019
-   Title: Zabezpieczenie przed indeksowaniem
-   Description: Jako Organizator, chcę mieć pewność, że udostępniane przeze mnie teksty piosenek nie będą publicznie dostępne w wyszukiwarkach internetowych.
-   Acceptance Criteria:
    -   Wszystkie strony publiczne (z widokiem piosenki/repertuaru) zawierają w nagłówku HTML metatag `<meta name="robots" content="noindex, nofollow">`.

## 6. Success Metrics
Ponieważ jest to projekt o charakterze zaliczeniowym, formalne wskaźniki sukcesu (KPI), takie jak liczba użytkowników czy czas zaangażowania, nie będą mierzone. Jakościowym kryterium sukcesu produktu będzie pomyślna realizacja i demonstracja kluczowych ścieżek użytkownika. Produkt osiągnie sukces, jeśli umożliwi bezproblemowe wykonanie dwóch głównych scenariuszy:
1.  Organizator jest w stanie skutecznie przygotować repertuar: zalogować się, dodać piosenki, stworzyć z nich listę odtwarzania i wygenerować link do udostępnienia.
2.  Podczas symulowanego wydarzenia, Organizator jest w stanie udostępnić repertuar Biesiadnikom za pomocą kodu QR, a Biesiadnicy mogą bezproblemowo uzyskać dostęp do tekstów piosenek i nawigować między nimi na swoich urządzeniach mobilnych.
