<form class="song-form" [formGroup]="form" (ngSubmit)="submitForm()" autocomplete="off">
    <mat-form-field appearance="outline" class="song-form__field" subscriptSizing="dynamic">
        <mat-label>Tytuł</mat-label>
        <input
            matInput
            formControlName="title"
            type="text"
            maxlength="180"
            placeholder="Wprowadź tytuł piosenki"
        />
        <mat-hint align="end">{{ form.controls.title.value.length }}/180</mat-hint>
        @if (form.controls.title.hasError('required') && form.controls.title.touched) {
            <mat-error>Tytuł jest wymagany.</mat-error>
        }
        @if (form.controls.title.hasError('maxlength') && form.controls.title.touched) {
            <mat-error>Tytuł może mieć maksymalnie 180 znaków.</mat-error>
        }
        @if (form.controls.title.hasError('unique') && form.controls.title.touched) {
            <mat-error>Piosenka o takim tytule już istnieje.</mat-error>
        }
    </mat-form-field>

    <mat-form-field appearance="outline" class="song-form__field song-form__field--content" subscriptSizing="dynamic">
        <mat-label>Treść (ChordPro)</mat-label>
        <textarea
            matInput
            formControlName="content"
            rows="12"
            cdkTextareaAutosize
            cdkAutosizeMinRows="12"
            cdkAutosizeMaxRows="24"
            placeholder="Wprowadź treść piosenki w formacie ChordPro"
        ></textarea>
        @if (form.controls.content.hasError('required') && form.controls.content.touched) {
            <mat-error>Treść piosenki jest wymagana.</mat-error>
        }
    </mat-form-field>
</form>

