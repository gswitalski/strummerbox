<!-- Komunikat błędu -->
@if (isError && errorData) {
    <div class="error-container">
        <stbo-error-display
            [code]="errorData.code"
            [message]="errorData.message">
        </stbo-error-display>
    </div>
}

<!-- Widok piosenki -->
@if (!isError) {
    <div class="public-song-view">
        <!-- Toolbar z tytułem i przełącznikiem -->
        @if (isLoaded && loadedSong) {
            <mat-toolbar color="primary" class="song-toolbar">
                <h1 class="song-title">{{ loadedSong.title }}</h1>
                <mat-button-toggle-group
                    [value]="showChords() ? 'chords' : 'text'"
                    (change)="showChords.set($event.value === 'chords')"
                    class="chord-toggle">
                    <mat-button-toggle value="text">Tekst</mat-button-toggle>
                    <mat-button-toggle value="chords">Akordy</mat-button-toggle>
                </mat-button-toggle-group>
            </mat-toolbar>

            <!-- Treść piosenki -->
            <div class="song-content">
                <stbo-song-display
                    [content]="loadedSong.content"
                    [showChords]="showChords()">
                </stbo-song-display>
            </div>
        }

        <!-- Wskaźnik ładowania -->
        @if (isLoading) {
            <div class="loading-container">
                <p>Ładowanie...</p>
            </div>
        }
    </div>
}
