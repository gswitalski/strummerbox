<!-- Stan ładowania -->
@if (viewModel().state === 'loading') {
    <div class="loading-container">
        <mat-spinner></mat-spinner>
        <p class="loading-text">Ładowanie piosenki...</p>
    </div>
}

<!-- Stan błędu -->
@if (viewModel().state === 'error') {
    <div class="error-container">
        <div class="error-content">
            <mat-icon class="error-icon">error_outline</mat-icon>
            <h2 class="error-title">Wystąpił błąd</h2>
            <p class="error-message">{{ viewModel().error }}</p>
            <button mat-raised-button color="primary" (click)="handleRetry()">
                Spróbuj ponownie
            </button>
            <button mat-stroked-button (click)="handleNavigateBack()">
                Powrót do listy piosenek
            </button>
        </div>
    </div>
}

<!-- Stan załadowano - widok piosenki -->
@if (loadedSongData) {
    <stbo-biesiada-song-view
        [songData]="loadedSongData"
        (navigateBack)="handleNavigateBack()"
        (navigatePrevious)="handleNavigatePrevious($event)"
        (navigateNext)="handleNavigateNext($event)"
        (showQrCode)="handleShowQrCode($event.title, $event.publicUrl, $event.qrPayload)"
    />
}

